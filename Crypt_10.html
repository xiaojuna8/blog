<!doctype html>
<html class="no-js" lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>
    
  Crypt - 记录
  
  </title>
 <meta name="description" content="记录工作上的知识点">
 <link href="atom.xml" rel="alternate" title="记录" type="application/atom+xml">
    <link rel="stylesheet" href="asset/css/foundation.min.css" />
    <link rel="stylesheet" href="asset/css/docs.css" />

    <script src="asset/js/vendor/modernizr.js"></script>
    <script src="asset/js/vendor/jquery.js"></script>
    <script src="asset/highlightjs/highlight.pack.js"></script>
    <link href="asset/highlightjs/styles/github.css" media="screen, projection" rel="stylesheet" type="text/css">
    <script>hljs.initHighlightingOnLoad();</script>
    
  </head>
  <body class="antialiased hide-extras">
    
    <div class="marketing off-canvas-wrap" data-offcanvas>
      <div class="inner-wrap">


<nav class="top-bar docs-bar hide-for-small" data-topbar>

<div id="header">
    <h1><a href="index.html">记录</a></h1>
</div>

</nav>
        <nav class="tab-bar show-for-small">
  <a href="javascript:void(0)" class="left-off-canvas-toggle menu-icon">
    <span> &nbsp; 记录</span>
  </a>
</nav>

<aside class="left-off-canvas-menu">
      <ul class="off-canvas-list">
      <li><a href="index.html">Home</a></li>
      
        <li class="divider"></li>
        <li><label>C++</label></li>

          
            <li><a title="gcc第三方库文件目录" href="15173624959342.html">gcc第三方库文件目录</a></li>
          
            <li><a title="字符编码" href="15173053129472.html">字符编码</a></li>
          
            <li><a title="跨平台C／C++系统／编译器检测" href="15173052079033.html">跨平台C／C++系统／编译器检测</a></li>
          
            <li><a title="curl库编译" href="15173051110022.html">curl库编译</a></li>
          
            <li><a title="GCC编译动态库" href="15173051110801.html">GCC编译动态库</a></li>
          
            <li><a title="GCC编译静态库" href="15173051111098.html">GCC编译静态库</a></li>
          
            <li><a title="openssl编译" href="15173051111412.html">openssl编译</a></li>
          
            <li><a title="全局变量" href="15173051111702.html">全局变量</a></li>
          
            <li><a title="编译器预定义宏" href="15173044802818.html">编译器预定义宏</a></li>
          
            <li><a title="Makefile" href="15173044568587.html">Makefile</a></li>
          
            <li><a title="命令行参数解析" href="15173044214676.html">命令行参数解析</a></li>
          
            <li><a title="C++多线程" href="15173028055344.html">C++多线程</a></li>
          
            <li><a title="C++ 输入输出流" href="15172827779506.html">C++ 输入输出流</a></li>
          

      
        <li class="divider"></li>
        <li><label>Xcode</label></li>

          
            <li><a title="XCode" href="15173027753385.html">XCode</a></li>
          
            <li><a title="Git" href="15173027520921.html">Git</a></li>
          
            <li><a title="lldb usage" href="15172828404139.html">lldb usage</a></li>
          

      
        <li class="divider"></li>
        <li><label>Linux</label></li>

          
            <li><a title="Shell 脚本" href="15173027148008.html">Shell 脚本</a></li>
          
            <li><a title="Linux基本指令" href="15173026872373.html">Linux基本指令</a></li>
          
            <li><a title="cenos 安装 gcc/clang" href="15173026443060.html">cenos 安装 gcc/clang</a></li>
          

      
        <li class="divider"></li>
        <li><label>Crypt</label></li>

          
            <li><a title="Intel random number generator" href="15173049140113.html">Intel random number generator</a></li>
          
            <li><a title="Linux /dev/random" href="15173049140539.html">Linux /dev/random</a></li>
          
            <li><a title="Linux同步IO" href="15173049140754.html">Linux同步IO</a></li>
          
            <li><a title="Linux页缓存" href="15173049141059.html">Linux页缓存</a></li>
          
            <li><a title="OpenSSH" href="15173049141355.html">OpenSSH</a></li>
          
            <li><a title="RSA简介" href="15173049141721.html">RSA简介</a></li>
          
            <li><a title="Slat" href="15173049142023.html">Slat</a></li>
          
            <li><a title="SHA" href="15173049142331.html">SHA</a></li>
          
            <li><a title="SM9加密" href="15173049142669.html">SM9加密</a></li>
          
            <li><a title="SM9数字签名" href="15173049142971.html">SM9数字签名</a></li>
          
            <li><a title="SM9特点" href="15173049143327.html">SM9特点</a></li>
          
            <li><a title="SM9代码注释" href="15173049143691.html">SM9代码注释</a></li>
          
            <li><a title="Ciphertext stealing" href="15173049143733.html">Ciphertext stealing</a></li>
          
            <li><a title="分组加密的加密模式" href="15173049143929.html">分组加密的加密模式</a></li>
          
            <li><a title="加密key生成" href="15173049143979.html">加密key生成</a></li>
          
            <li><a title="密码学安全随机数" href="15173049144029.html">密码学安全随机数</a></li>
          
            <li><a title="数据加密方式比较" href="15173049144073.html">数据加密方式比较</a></li>
          
            <li><a title="文件加密解密流程" href="15173049144311.html">文件加密解密流程</a></li>
          
            <li><a title="椭圆曲线密码学" href="15173049144364.html">椭圆曲线密码学</a></li>
          
            <li><a title="消息认证码" href="15173049144611.html">消息认证码</a></li>
          
            <li><a title="认证加密" href="15173049144928.html">认证加密</a></li>
          
            <li><a title="随机数检测规范" href="15173049145208.html">随机数检测规范</a></li>
          
            <li><a title="AES" href="15173049138687.html">AES</a></li>
          
            <li><a title="AES测试实例" href="15173049139197.html">AES测试实例</a></li>
          
            <li><a title="ECC性能" href="15173049139393.html">ECC性能</a></li>
          
            <li><a title="基于标识的加密" href="15173049139748.html">基于标识的加密</a></li>
          

      
        <li class="divider"></li>
        <li><label>Computer</label></li>

          
            <li><a title="磁盘传输" href="15173050634716.html">磁盘传输</a></li>
          

      
        <li class="divider"></li>
        <li><label>genome</label></li>

          
            <li><a title="Illumina Sequencing" href="15173054141309.html">Illumina Sequencing</a></li>
          
            <li><a title="Illumina二代测序原理" href="15173054141798.html">Illumina二代测序原理</a></li>
          
            <li><a title="DNA基本关系" href="15173054025402.html">DNA基本关系</a></li>
          

      
      </ul>
    </aside>

<a class="exit-off-canvas" href="#"></a>

        <section id="main-content" role="main" class="scroll-container">

          <div class="row">
            <div class="large-3 medium-3 columns">
              <div class="hide-for-small">
                <div class="sidebar">
                <nav>
                  <ul id="side-nav" class="side-nav">

                    
                      <li class="side-title"><span>C++</span></li>
                        
                          <li><a title="gcc第三方库文件目录" href="15173624959342.html">gcc第三方库文件目录</a></li>
                        
                          <li><a title="字符编码" href="15173053129472.html">字符编码</a></li>
                        
                          <li><a title="跨平台C／C++系统／编译器检测" href="15173052079033.html">跨平台C／C++系统／编译器检测</a></li>
                        
                          <li><a title="curl库编译" href="15173051110022.html">curl库编译</a></li>
                        
                          <li><a title="GCC编译动态库" href="15173051110801.html">GCC编译动态库</a></li>
                        
                          <li><a title="GCC编译静态库" href="15173051111098.html">GCC编译静态库</a></li>
                        
                          <li><a title="openssl编译" href="15173051111412.html">openssl编译</a></li>
                        
                          <li><a title="全局变量" href="15173051111702.html">全局变量</a></li>
                        
                          <li><a title="编译器预定义宏" href="15173044802818.html">编译器预定义宏</a></li>
                        
                          <li><a title="Makefile" href="15173044568587.html">Makefile</a></li>
                        
                          <li><a title="命令行参数解析" href="15173044214676.html">命令行参数解析</a></li>
                        
                          <li><a title="C++多线程" href="15173028055344.html">C++多线程</a></li>
                        
                          <li><a title="C++ 输入输出流" href="15172827779506.html">C++ 输入输出流</a></li>
                        

                    
                      <li class="side-title"><span>Xcode</span></li>
                        
                          <li><a title="XCode" href="15173027753385.html">XCode</a></li>
                        
                          <li><a title="Git" href="15173027520921.html">Git</a></li>
                        
                          <li><a title="lldb usage" href="15172828404139.html">lldb usage</a></li>
                        

                    
                      <li class="side-title"><span>Linux</span></li>
                        
                          <li><a title="Shell 脚本" href="15173027148008.html">Shell 脚本</a></li>
                        
                          <li><a title="Linux基本指令" href="15173026872373.html">Linux基本指令</a></li>
                        
                          <li><a title="cenos 安装 gcc/clang" href="15173026443060.html">cenos 安装 gcc/clang</a></li>
                        

                    
                      <li class="side-title"><span>Crypt</span></li>
                        
                          <li><a title="Intel random number generator" href="15173049140113.html">Intel random number generator</a></li>
                        
                          <li><a title="Linux /dev/random" href="15173049140539.html">Linux /dev/random</a></li>
                        
                          <li><a title="Linux同步IO" href="15173049140754.html">Linux同步IO</a></li>
                        
                          <li><a title="Linux页缓存" href="15173049141059.html">Linux页缓存</a></li>
                        
                          <li><a title="OpenSSH" href="15173049141355.html">OpenSSH</a></li>
                        
                          <li><a title="RSA简介" href="15173049141721.html">RSA简介</a></li>
                        
                          <li><a title="Slat" href="15173049142023.html">Slat</a></li>
                        
                          <li><a title="SHA" href="15173049142331.html">SHA</a></li>
                        
                          <li><a title="SM9加密" href="15173049142669.html">SM9加密</a></li>
                        
                          <li><a title="SM9数字签名" href="15173049142971.html">SM9数字签名</a></li>
                        
                          <li><a title="SM9特点" href="15173049143327.html">SM9特点</a></li>
                        
                          <li><a title="SM9代码注释" href="15173049143691.html">SM9代码注释</a></li>
                        
                          <li><a title="Ciphertext stealing" href="15173049143733.html">Ciphertext stealing</a></li>
                        
                          <li><a title="分组加密的加密模式" href="15173049143929.html">分组加密的加密模式</a></li>
                        
                          <li><a title="加密key生成" href="15173049143979.html">加密key生成</a></li>
                        
                          <li><a title="密码学安全随机数" href="15173049144029.html">密码学安全随机数</a></li>
                        
                          <li><a title="数据加密方式比较" href="15173049144073.html">数据加密方式比较</a></li>
                        
                          <li><a title="文件加密解密流程" href="15173049144311.html">文件加密解密流程</a></li>
                        
                          <li><a title="椭圆曲线密码学" href="15173049144364.html">椭圆曲线密码学</a></li>
                        
                          <li><a title="消息认证码" href="15173049144611.html">消息认证码</a></li>
                        
                          <li><a title="认证加密" href="15173049144928.html">认证加密</a></li>
                        
                          <li><a title="随机数检测规范" href="15173049145208.html">随机数检测规范</a></li>
                        
                          <li><a title="AES" href="15173049138687.html">AES</a></li>
                        
                          <li><a title="AES测试实例" href="15173049139197.html">AES测试实例</a></li>
                        
                          <li><a title="ECC性能" href="15173049139393.html">ECC性能</a></li>
                        
                          <li><a title="基于标识的加密" href="15173049139748.html">基于标识的加密</a></li>
                        

                    
                      <li class="side-title"><span>Computer</span></li>
                        
                          <li><a title="磁盘传输" href="15173050634716.html">磁盘传输</a></li>
                        

                    
                      <li class="side-title"><span>genome</span></li>
                        
                          <li><a title="Illumina Sequencing" href="15173054141309.html">Illumina Sequencing</a></li>
                        
                          <li><a title="Illumina二代测序原理" href="15173054141798.html">Illumina二代测序原理</a></li>
                        
                          <li><a title="DNA基本关系" href="15173054025402.html">DNA基本关系</a></li>
                        

                    
                  </ul>
                </nav>
                </div>
              </div>
            </div>
            <div class="large-9 medium-9 columns">

 


	
		<div class="markdown-body">
		<h1>SM9特点</h1>

		<ul>
<li>
<a href="#toc_0">基本概念</a>
<ul>
<li>
<a href="#toc_1">双线性映射</a>
<ul>
<li>
<a href="#toc_2">离散对数</a>
</li>
</ul>
</li>
</ul>
</li>
<li>
<a href="#toc_3">SM9数字签名算法</a>
<ul>
<li>
<a href="#toc_4">系统参数组</a>
<ul>
<li>
<a href="#toc_5">系统主密钥和用户密钥产生</a>
<ul>
<li>
<a href="#toc_6">系统主密钥建立</a>
</li>
<li>
<a href="#toc_7">用户密钥生成</a>
<ul>
<li>
<a href="#toc_8">KGC &amp; user</a>
</li>
</ul>
</li>
<li>
<a href="#toc_9">杂凑函数</a>
</li>
</ul>
</li>
<li>
<a href="#toc_10">数字签名流程</a>
</li>
<li>
<a href="#toc_11">数字签名验证算法</a>
</li>
</ul>
</li>
<li>
<a href="#toc_12">签名-验证</a>
</li>
</ul>
</li>
<li>
<a href="#toc_13">IBC简介</a>
</li>
</ul>


<blockquote>
<p>SM9是基于双线性对的标识密码算法，与SM2类似，包含四个部分：总则，数字签名算法，密钥交换协议以及密钥封装机制和公钥加密算法。在这些算法中使用了椭圆曲线上的对这一个工具，不同于传统意义上的SM2算法，可以实现基于身份的密码体制，也就是公钥与用户的身份信息即标识相关，从而比传统意义上的公钥密码体制有许多优点，省去了证书管理等。</p>

<p>SM9算法不需要申请数字证书，适用于互联网应用的各种新兴应用的安全保障。如基于云技术的密码服务、电子邮件安全、智能终端保护、物联网安全、云存储安全等等。这些安全应用可采用手机号码或邮件地址作为公钥，实现数据加密、身份认证、通话加密、通道加密等安全应用，并具有使用方便，易于部署的特点，从而开启了普及密码算法的大门。</p>
</blockquote>

<p>ECC由Koblitz和Miller在1984年各自引入密码学。</p>

<p>SM9密码算法的理论基础和数学工具是有限域群上椭圆曲线的点群运算性质及双线性对运算特性。</p>

<p><strong>数字签名算法</strong>适用于商业应用中的数字签名和验证，可满足多种密码应用中的身份认证和数据完整，真实性的安全需求。</p>

<p><strong>密钥交换协议</strong>适用于商业密码应用中的密钥交换，可满足通信双方经过两次或可选三次信息传递过程，计算得出双方共同决定的共享密钥。</p>

<p><strong>共钥加密算法</strong>适用于商业密码应用中的消息加密，消息发送者可以利用接受者的共钥对信息进行加密，接受者利用对应私钥进行解密获取消息。</p>

<p>数字签名算法／密钥交换协议／共钥加密算法这三种应用都使用了SM3算法和随机数生成器，根据总则来选取有限域和椭圆曲线，并生成密钥对。</p>

<p>ECC和RSA等强度对比</p>

<table>
<thead>
<tr>
<th>保密级别</th>
<th>对称密钥长度bit</th>
<th>RSA密钥长度bit</th>
<th>ECC密钥长度bit</th>
<th>保密年限</th>
</tr>
</thead>

<tbody>
<tr>
<td>80</td>
<td>80</td>
<td>1024</td>
<td>160</td>
<td>2010</td>
</tr>
<tr>
<td>112</td>
<td>112</td>
<td>2048</td>
<td>224</td>
<td>2030</td>
</tr>
<tr>
<td>128</td>
<td>128</td>
<td>3072</td>
<td>256</td>
<td>2040</td>
</tr>
<tr>
<td>192</td>
<td>192</td>
<td>7680</td>
<td>384</td>
<td>2080</td>
</tr>
<tr>
<td>256</td>
<td>256</td>
<td>15360</td>
<td>512？</td>
<td>2120</td>
</tr>
</tbody>
</table>

<h2 id="toc_0">基本概念</h2>

<p>椭圆曲线公钥密码算法基于有限域上椭圆曲线点的运算。在点加运算构成了有限交换群，多倍点运算构成一个单向函数。在多倍点运算中，已知多倍点\(uP\)与基点\(P\)，求解倍数\(u\)的问题称为椭圆曲线离散对数问题(ECDLP).对于ECDLP，目前仅存在指数级计算复杂度求解方法。通大数分解问题(LFP)和有限域上离散对数问题(DLP)相比，ECDLP的求解难度要大。因此在相同安全程度下，建立椭圆曲线有限域群上的密码算法较其它公钥密码算法所需的规模要小得多。</p>

<p>1984年Shamir提出了标识密码(IBE)的概念，在标识密码系统中，用户私钥由密钥生成中心(key generation center,KGC)根据主密钥和用户标识计算得出，用户的公钥由用户标识唯一确定，从而用户不需要通过第三方保证其公钥的真实性。与基于整数的公钥密码系统相比，标识密码系统中的密钥管理环节可以得到适当简化。</p>

<p>2000年Sakai等提出了用椭圆曲线对(pairing)构造基于标识的密钥共享方案。</p>

<p>椭圆曲线对具有双线性性质，它在椭圆曲线的循环子群玉扩域的乘法子群之间建立联系，构成了双线性DH，双线性逆DH等难题，当椭圆曲线离散对数问题和扩域离散对数问题的求解难度相当时，可以用椭圆曲线对构造出安全性和实现效率兼顾的基于标识的密码。</p>

<p>与双线性对直接相关的有Miller算法，Miller算法是计算双线性对的有效算法。</p>

<h3 id="toc_1">双线性映射</h3>

<p>令 \(G_1,G_2,G_t\) 是同阶循环群<br/>
定义：<br/>
Bilinear Map双线性变换\(G_1 \times G_2\) to \(G_t\)<br/>
\(e:G_1 \times G_2 \rightarrow G_t\) for all \(u \in G_1,v \in G_2,a,b\in \mathbb{Z}\)有<br/>
\[<br/>
e(u^a,v^b)=e(u,v)^{ab}<br/>
\]<br/>
Bilinear maps are called pairings because they associate pairs of elements from \(G_1\) and \(G_2\) with elements in \(G_t\).</p>

<p>Admissible Bilinear Map (可采纳的双线性变换)</p>

<p>let e : \(G_1 \times G_2 \rightarrow G_t\) be a bilinear map<br/>
Let \(g_1\) and \(g_2\) be generators of \(G_1\) and \(G_2\)<br/>
定义：<br/>
当\(e(g_1,g_2)\)生成\(G_t\)和\(e\)是高效可计算的时候，称e为  adminssible bilineaer map</p>

<p>有时候会写成加法形式<br/>
\[<br/>
e(aP,bQ) = e(P,Q)^{ab}<br/>
\]</p>

<h4 id="toc_2">离散对数</h4>

<p>如果存在一个双线性映射 e: \(G \times G \rightarrow G_t\)，G上的离散对数问题不会比\(G_t\)上的离散对数问题难。因为给定\(g\in G\)并且\(g^a\in G\),我们可以计算\(e(g,g)\in G_t\)和\(e(g,g^a)=e(g,g)^a\in G_t\)</p>

<h2 id="toc_3">SM9数字签名算法</h2>

<p>用椭圆曲线对实现基于标识的数字签名算法，包括数字签名生成算法和验证算法。签名者持有一个标识和一个相应的私钥，该私钥由密钥生成中心通过主私钥和签名者的标识结合产生。签名者用自身私钥对数据产生数字签名，验证者用签名者的标识生成公钥，验证签名的可靠性，即验证发送数据的真实性／完整性和发送者的身份。</p>

<p>在生成签名和验证过程之前，都要用密码杂凑函数对待签名消息\(M\)和待验证消息\(M^\prime\)进行压缩运算。</p>

<h3 id="toc_4">系统参数组</h3>

<ul>
<li>曲线识别符cid</li>
<li>椭圆曲线基域\(F_q\)</li>
<li>椭圆曲线参数a，b</li>
<li>扭曲线参数\(\beta\)</li>
<li>曲线阶的素因子N和余因子cf</li>
<li>曲线\(E(F_q)\)相对于N的嵌入次数k</li>
<li>\(G_1\)基点\(P_1\)</li>
<li>\(G_2\)基点\(P_2\)</li>
<li>双线性对\(e\)的识别符\(eid\)</li>
<li>双线性e的值域\(G_t\)</li>
<li>。。。看不懂</li>
</ul>

<h4 id="toc_5">系统主密钥和用户密钥产生</h4>

<h5 id="toc_6">系统主密钥建立</h5>

<p>KGC产生随机数\(s\in [1,N-1]\)作为主私钥，计算\(G_2\)中的元素\(P_{pub}=sP_2\)作为主公钥，则主密钥对为\((s,P_{pub})\)，KGC保密s，公开\(P_{pub}\).</p>

<p>通过公钥\(P_{pub}\)求解私钥s是离散对数问题。</p>

<h5 id="toc_7">用户密钥生成</h5>

<p>KGC选择并公开一个字节表示私钥生成函数识别符\(hid\)</p>

<p>用户A的标识为\(ID_A\),为产生用户A的私钥\(d_A\),KGC先在有限域\(F_N\)上计算\(t_1 = H_1(ID_A||hid,N)+s\)，若\(t_1=0\)则需要重新设计主密钥。</p>

<p>用户私钥\(d_A=t_2P=[s/(H_1(ID_A||hid)+s)]P_1\)</p>

<p>用户共钥设为\(Q_A\)，可有系统内任一用户生成\(Q_A=[H_1(ID_A||hid)]P+P_{pub}\)，该值貌似在签名认证系统中没有什么作用()。</p>

<h6 id="toc_8">KGC &amp; user</h6>

<p>KGC保密自己的主私钥\(s\)，公开主公钥\(P_{pub}\)</p>

<p>user私钥\(d_A\)，由于user的私钥由\(s\)生成，所以user私钥必须由KGC生成并发给user</p>

<p>就是说主密钥只有KGC知道，user 私钥是KGC和user双方知道。</p>

<p><img src="https://gitee.com/uploads/images/2017/1201/144346_ca558594_1453931.png" alt="IBS架构" title="IBS架构.png"/></p>

<h5 id="toc_9">杂凑函数</h5>

<p>\(H_1(Z,n)\)输入比特串Z和整数n，输出整数\(h_1 \in [1,n-1]\)</p>

<h4 id="toc_10">数字签名流程</h4>

<p>设待签名的消息比特串为M，数字签名为(h,S)</p>

<ol>
<li>计算群\(G_t\)中元素\(g=e(P_1,P_{pub})\)</li>
<li>生成随机数\(r\in [1,N-1]\)</li>
<li>计算群\(G_t\)中的元素\(\omega = g^r\),将\(\omega\)的类型转为比特串</li>
<li>计算整数\(h=H_2(M||\omega,N)\)</li>
<li>计算整数\(L=(r-h)\bmod{N}\),若\(L=0\)则回到步骤2，重新选择r</li>
<li>计算群\(G_1\)元素\(S=Ld_A\)</li>
<li>h和S就是消息M的数字签名</li>
</ol>

<p><img src="https://gitee.com/uploads/images/2017/1201/084455_13078046_1453931.png" alt="SM9数字签名流程" title="SM9数字签名流程.png"/></p>

<h4 id="toc_11">数字签名验证算法</h4>

<p>设收到的消息\(M^\prime\)以及数字签名\((h^\prime,S^\prime)\)</p>

<ol>
<li>将\(h^\prime\)转化为整数，检查是否满足\(h^\prime \in [1,N-1]\)</li>
<li>将\(S^\prime\)的数据转换为点，并验证\(S^\prime \in G_1\)</li>
<li>计算群\(G_t\)中的元素\(g=e(P_1,P_{pub})\)</li>
<li>计算群\(G_t\)中元素\(t=h^\prime g\)</li>
<li>计算整数\(h_1=H_1(ID_A||hid,N)\)</li>
<li>计算群\(G_2\)的元素\(P=h_1P_2+P_{pub}\)</li>
<li>计算群\(G_t\)元素\(u=e(S^\prime,P)\)</li>
<li>计算群\(G_t\)中元素\(\omega^\prime=u t\)，将\(\omega^\prime\)转换为比特串(这一步\(G_t\)中的乘法如何定义？)</li>
<li>计算整数\(h_2=H_2(M^\prime||\omega^\prime,N)\)，检查\(h_2=h^\prime\)</li>
</ol>

<p><img src="https://gitee.com/uploads/images/2017/1201/091625_786a2421_1453931.png" alt="SM9签名验证流程" title="SM9签名验证流程.png"/></p>

<h3 id="toc_12">签名-验证</h3>

<p>签名包含\((h,S)\)，但是验证时验证\(h\) 作为最终判断依据，\(S\)仅验证是否在\(G_1\)群里。</p>

<h2 id="toc_13">IBC简介</h2>

<p>在进行安全通信时要解决的两个首要问题是：用户的身份认证（即证明通信各方的身份）和数据的私密性（即保证数据不被未授权方获取）。这些问题都需要依靠相应的密码技术来解决。</p>

<p>在非对称密码系统中，一个用户有两把钥匙：一把公开；另一把为用户私有。在公钥安全应用中，各个用户无需预先共享秘密，从而避免了对称密码系统中密钥预分发的问题。但这类密码系统需要解决一个关键问题：各个用户如何安全地公开自己的公钥而不引起混乱，简单地讲就是如何将用户的身份和用户的钥匙对应起来。</p>

<p>传统的公钥系统一般都采用证书机制实现用户的身份和用户的钥匙的安全对应。证书机制一般都采用公钥基础设施（ Public Key Infrastructure: PKI）技术。系统需建设有公信力的认证中心（Certification Authority：CA）鉴定用户身份，然后为用户签发数字证书。数字证书安全地将用户身份和用户密钥的绑定在一起。用户在业务系统中先交换证书，然后使用公私钥完成用户的身份认证、访问控制、信息安全传递等操作。</p>

<p><img src="https://gitee.com/uploads/images/2017/1206/165321_afbe300a_1453931.jpeg" alt="PKI" title="ibc-profile-1.jpg"/></p>

<p>基于证书的公钥体制在应用中面临诸多问题，特别是证书使用过程的复杂性使得不具备相关知识的普通用户难以驾驭。为了降低公钥系统中密钥管理和使用的复杂性，Shamir在1984[S84]年提出了基于标识的密码技术(Identity-Based Cryptography - IBC)：即用户的标识就可以用做用户的公钥（更加准确地说是用户的公钥可以从用户的标识和系统指定的一个方法计算得出）。</p>

<p><img src="https://gitee.com/uploads/images/2017/1206/165455_0cde9b75_1453931.jpeg" alt="ID" title="ibc-profile-3.jpg"/></p>

<p>在这种情况下，用户不需要申请和交换证书，从而极大地简化了密码系统管理的复杂性。用户的私钥由系统中的一受信任的第三方（密钥生成中心）使用标识私钥生成算法计算生成。这样的系统具有天然的密码委托功能，适合于有监管的应用环境。</p>

<p><img src="https://gitee.com/uploads/images/2017/1206/165647_a27ab75f_1453931.jpeg" alt="IBC" title="ibc-profile-2.jpg"/></p>

<p>从6步减少到4步。并且不需要管理存储用户私钥与用户ID，因为直接可以通过用户ID计算出对应私钥。</p>


		</div>
	

  
  
</div></div>


<div class="page-bottom">
  <div class="row">
  <hr />
  <div class="small-9 columns">
  <p class="copyright">Copyright &copy; 2015
Powered by <a target="_blank" href="http://www.mweb.im">MWeb</a>,&nbsp; 
Theme used <a target="_blank" href="http://github.com">GitHub CSS</a>.</p>
  </div>
  <div class="small-3 columns">
  <p class="copyright text-right"><a href="#header">TOP</a></p>
  </div>
   
  </div>
</div>

        </section>
      </div>
    </div>
    
    
    <script src="asset/js/foundation.min.js"></script>
    <script src="asset/js/foundation/foundation.offcanvas.js"></script>
    <script>
      $(document).foundation();

     
    </script>
    <script src="asset/chart/all-min.js"></script><script type="text/javascript">$(function(){    var mwebii=0;    var mwebChartEleId = 'mweb-chart-ele-';    $('pre>code').each(function(){        mwebii++;        var eleiid = mwebChartEleId+mwebii;        if($(this).hasClass('language-sequence')){            var ele = $(this).addClass('nohighlight').parent();            $('<div id="'+eleiid+'"></div>').insertAfter(ele);            ele.hide();            var diagram = Diagram.parse($(this).text());            diagram.drawSVG(eleiid,{theme: 'simple'});        }else if($(this).hasClass('language-flow')){            var ele = $(this).addClass('nohighlight').parent();            $('<div id="'+eleiid+'"></div>').insertAfter(ele);            ele.hide();            var diagram = flowchart.parse($(this).text());            diagram.drawSVG(eleiid);        }    });});</script>
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({TeX: { equationNumbers: { autoNumber: "AMS" } }});</script>

  </body>
</html>
